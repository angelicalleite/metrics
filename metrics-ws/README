Metrics WS
--------------------------------------

This project exposes read only web services on top of the various cubes.

Utility profiles exist for staging and uat.  For GBIF staging and uat environments you can simply do

$ mvn -U -Pstaging jetty:run
$ mvn -U -Puat jetty:run

If you want to customize things, the following example illustrates the properties required in your maven profile:

    <profile>
      <id>metrics</id>
      <properties>
        <occurrence-cube.table>dev_occurrence_cube</occurrence-cube.table>
        <taxon.occurrence_dataset.table>dev_dataset_taxon_cube</taxon.occurrence_dataset.table>
        <country.occurrence_dataset.table>dev_dataset_country_cube</country.occurrence_dataset.table>
        <!-- Optional but if present, metrics will be shipped to ganglia if the server and port are given-->
        <ganglia.server>130.226.238.237</ganglia.server>
        <ganglia.port>8649</ganglia.port>
      </properties>
    </profile>

with this, one should be able to:

$ mvn -U -Pmetrics clean jetty:run

and visit:
  http://localhost:8080/occurrence/count
  http://localhost:8080/name_usage/1/occurrence/dataset
