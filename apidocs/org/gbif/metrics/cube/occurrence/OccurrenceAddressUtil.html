<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Mon Jan 06 16:38:23 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>OccurrenceAddressUtil (Metrics :: Cube 0.13-SNAPSHOT API)</title>
<meta name="date" content="2014-01-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OccurrenceAddressUtil (Metrics :: Cube 0.13-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OccurrenceAddressUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/gbif/metrics/cube/occurrence/OccurrenceCube.html" title="class in org.gbif.metrics.cube.occurrence"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html" target="_top">Frames</a></li>
<li><a href="OccurrenceAddressUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gbif.metrics.cube.occurrence</div>
<h2 title="Class OccurrenceAddressUtil" class="title">Class OccurrenceAddressUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.gbif.metrics.cube.occurrence.OccurrenceAddressUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#line.47">OccurrenceAddressUtil</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A utility class to encapsulate the logic needed to convert between the denormalized
 format of occurrences (which have kingdomKey, phylumKey etc) and the normalized format
 used by the occurrence cube (which uses only a nubKey).
 This class uses the occurrence cube rollup definitions to determine which cube addresses
 are to be updated for a given record. This is only necessary due to the normalization
 that is required to for the taxonomic ranks that are all merged into a single nub key.
 Brief explanation:
 - Imagine a record from dataset:1 with kingdom:1 and phylum:2
 - Imagine the cube counts "by dataset", "records by nubKey" and "records by dataset by nubKey"
 We need to update the following cube addresses:
 - "dataset:1"
 - "nubKey:1"
 - "nubKey:2"
 - "dataset:1,nubKey:1"
 - "dataset:1,nubKey:2"
 You cannot update the cube 2 times for each taxon, or else the dataset count will be 2 in this
 example.
 This is the problem this class addresses, by providing the addresses for a single occurrence record.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#OccurrenceAddressUtil()">OccurrenceAddressUtil</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.urbanairship.datacube.Batch&lt;com.urbanairship.datacube.ops.LongOp&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#cubeMutation(org.gbif.api.model.occurrence.Occurrence, com.urbanairship.datacube.ops.LongOp)">cubeMutation</a></strong>(org.gbif.api.model.occurrence.Occurrence&nbsp;occurrence,
                        com.urbanairship.datacube.ops.LongOp&nbsp;op)</code>
<div class="block">For the given occurrence, determines the mutations (addresses and operations) that need
 to be applied.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.urbanairship.datacube.Batch&lt;com.urbanairship.datacube.ops.LongOp&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#cubeMutation(org.gbif.metrics.cube.mapred.OccurrenceWritable, com.urbanairship.datacube.ops.LongOp)">cubeMutation</a></strong>(<a href="../../../../../org/gbif/metrics/cube/mapred/OccurrenceWritable.html" title="class in org.gbif.metrics.cube.mapred">OccurrenceWritable</a>&nbsp;occurrence,
                        com.urbanairship.datacube.ops.LongOp&nbsp;op)</code>
<div class="block">For the given occurrence writable, determines the mutations (addresses and operations) that need
 to be applied.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OccurrenceAddressUtil()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OccurrenceAddressUtil</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#line.47">OccurrenceAddressUtil</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cubeMutation(org.gbif.api.model.occurrence.Occurrence, com.urbanairship.datacube.ops.LongOp)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cubeMutation</h4>
<pre>public static&nbsp;com.urbanairship.datacube.Batch&lt;com.urbanairship.datacube.ops.LongOp&gt;&nbsp;<a href="../../../../../src-html/org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#line.57">cubeMutation</a>(org.gbif.api.model.occurrence.Occurrence&nbsp;occurrence,
                                                                                 com.urbanairship.datacube.ops.LongOp&nbsp;op)</pre>
<div class="block">For the given occurrence, determines the mutations (addresses and operations) that need
 to be applied.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>occurrence</code> - The denormalized representation</dd><dd><code>op</code> - That is going to be applied to the cube</dd>
<dt><span class="strong">Returns:</span></dt><dd>The batch of updates to apply</dd></dl>
</li>
</ul>
<a name="cubeMutation(org.gbif.metrics.cube.mapred.OccurrenceWritable, com.urbanairship.datacube.ops.LongOp)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cubeMutation</h4>
<pre>public static&nbsp;com.urbanairship.datacube.Batch&lt;com.urbanairship.datacube.ops.LongOp&gt;&nbsp;<a href="../../../../../src-html/org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html#line.80">cubeMutation</a>(<a href="../../../../../org/gbif/metrics/cube/mapred/OccurrenceWritable.html" title="class in org.gbif.metrics.cube.mapred">OccurrenceWritable</a>&nbsp;occurrence,
                                                                                 com.urbanairship.datacube.ops.LongOp&nbsp;op)</pre>
<div class="block">For the given occurrence writable, determines the mutations (addresses and operations) that need
 to be applied.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>occurrence</code> - The writable representation</dd><dd><code>op</code> - That is going to be applied to the cube</dd>
<dt><span class="strong">Returns:</span></dt><dd>The batch of updates to apply</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OccurrenceAddressUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/gbif/metrics/cube/occurrence/OccurrenceCube.html" title="class in org.gbif.metrics.cube.occurrence"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/metrics/cube/occurrence/OccurrenceAddressUtil.html" target="_top">Frames</a></li>
<li><a href="OccurrenceAddressUtil.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>
